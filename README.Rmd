---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# stockr

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/stockr)](https://CRAN.R-project.org/package=stockr)
<!-- badges: end -->

`stockr` is an R package that retrieve financial data from the Yahoo Finance API, given company names or stock 'ticker' symbols.

> `stockr` functions return a standardized `data.frame` with consistent column names, allowing you to focus directly on financial analysis.


## Installation

You can install the development version of stockr:

``` r
devtools::install_github("clement-LVD/stockr")
```

## Examples

**Fetch ticker symbol and actual values (scraping).** Given a keyword, search informations on https://finance.yahoo.com/lookup/ with `stockr::fetch_indices`

```{r example}
library(stockr)
# get all the values answered by https://finance.yahoo.com/lookup/
indices <- fetch_indices(names = c("TOYOTA")  )
str(indices) # all the last results over all marketplaces
```

Typically, you first retrieve the exact ticker symbol by analyzing the results of `stockr::fetch_indices`. Then, you can use this symbol to fetch the corresponding historical financial data (see below).

**Fetch historical financial data (Yahoo API).**

```{r example2}
# (Optionally filter a precise marketplace)
indices <- fetch_indices(names = c("VOLVO", "SAAB"), marketplaces = "STO")
# We keep only the swedish marketplace (STOckholm) informations

# Fetch historical values, given ticker symbol(s)
datas <- fetch_historic(symbols = indices$symbol)

str(datas)
```


## Programming philosophy
The `stockr` functions (`fetch_historic` & `fetch_indices`) returns a standardized `data.frame` containing financial data from the Yahoo Finance API:

- The variable names in the returned `data.frame` are consistent and inherited directly from the Yahoo Finance API, although they are converted to lowercase.

- The returned data is always in the form of a simple `data.frame` object, i.e. does not return time series objects.

- No specific data analysis package dependencies are imposed on the user : no assumptions are made about the analysis tools you'll used (e.g., no dependencies on `zoo` or `xts` for time series analysis).

It is up to the user to create more advanced data analysis objects from the returned data.

